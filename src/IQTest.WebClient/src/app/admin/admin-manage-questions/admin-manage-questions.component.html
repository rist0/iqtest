<div class="container mt-2">
    <div class="table-responsive">
        <div class="d-flex flex-row mb-1">
          <p class="h3 mr-auto">Manage Questions</p>
          <a class="btn btn-primary" [routerLink]="['/admin/add-new-question']" role="button"><fa-icon [icon]="faPlus"></fa-icon> Add New Question</a>
        </div>
        <div class="table-responsive">
          <table class="table table-bordered">
            <thead class="thead-light">
              <tr>
                <th scope="col">#</th>
                <th scope="col">Question Title</th>
                <th scope="col">Question Image</th>
                <th scope="col">Question Difficulty</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let question of questions">
                <td class="align-middle text-center">{{question.id}}</td>
                <td class="align-middle">{{question.name}}</td>
                <td class="align-middle text-center"><img class="img-fluid question-img" [src]="question.imagePath" [title]="question.name" /></td>
                <td class="align-middle text-center">{{question.difficulty}}</td>
                <td class="align-middle text-center">
                    <div class="d-flex justify-content-center">
                      <a class="btn btn-primary btn-sm mr-1" [routerLink]="['/admin/view-question', question.id]" role="button"><fa-icon [icon]="faEye"></fa-icon></a>
                      <button class="btn btn-danger btn-sm" 
                              data-toggle="modal" 
                              data-target="#confirmDeleteQuestion" 
                              (click)="onDeleteClicked(question)"
                              [attr.data-id]="question.id">
                                <fa-icon [icon]="faTrashAlt"></fa-icon>
                      </button>
                    </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
    </div>
</div>

<div class="modal fade" id="confirmDeleteQuestion" tabindex="-1" role="dialog" aria-labelledby="confirmDeleteQuestionLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="confirmDeleteQuestionLabel">Delete Question</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Question ID: {{selectedQuestion.id}}
        <hr />
        Question Title: {{selectedQuestion.name}}
        <hr />
        Are you sure you want to delete this question?<br>
        This action is <b>PERMANENT</b> can <b>NOT</b> be undone.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal"><fa-icon [icon]="faTimesCircle"></fa-icon> Close</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="onDeleteQuestion(selectedQuestion.id)"><fa-icon [icon]="faTrashAlt"></fa-icon> Delete</button>
      </div>
    </div>
  </div>
</div>